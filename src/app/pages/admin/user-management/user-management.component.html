<div class="h-full w-full">
  <div class="ant-card w-full">
    <div class="ant-card-body">
      <div class="kttk-search-form">
        <div class="ant-card w-full border-1 border-black">
          <div style="border: 1px solid #1890ff; padding-bottom: 0 !important; padding-top: 24px" class="ant-card-body flex flex-col justify-center justify-items-center content-center rounded-md">
            <form nz-form [formGroup]="validateForm" class="ant-advanced-search-form">
              <div nz-row [nzGutter]="24">
                <div nz-col [nzSpan]="8">
                  <nz-form-item>
                    <nz-form-label [nzFor]="'field1'">Tên đăng nhập</nz-form-label>
                    <nz-form-control>
                      <input
                        nz-input
                        placeholder="Tìm theo tên đăng nhập"
                      />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col [nzSpan]="8">
                  <nz-form-item>
                    <nz-form-label [nzFor]="'field2'">Role</nz-form-label>
                    <nz-form-control>
                      <input
                        nz-input
                        placeholder="Tìm theo role"
                      />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col [nzSpan]="8" class="search-area">
                  <button class="rounded" nz-button [nzType]="'primary'">Tìm kiếm</button>
                  <button class="rounded" nz-button (click)="resetForm()">Làm mới</button>
                  <button class="rounded" nz-button [nzType]="'primary'" (click)="toggleCollapse()">
                    Thêm
                    <i nz-icon [nzType]="isCollapse ? 'down' : 'up'"></i>
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>

      </div>
      <div class="kttk-operator mt-1 mb-1">
        <div class="nz-row">
          <button class="rounded align-middle" nz-button nzType="primary" (click)="showModal1()">
            <i nz-icon nzType="plus"></i>
            Thêm mới
          </button>

          <button class="rounded align-middle" nz-button nzType="primary" nzDanger (click)="showDeleteConfirm()">
            <i nz-icon nzType="delete"></i>
            Xoá
          </button>
        </div>
      </div>
      <div class="kttk-table-list">
        <nz-table
          #rowSelectionTable
          nzShowSizeChanger
          [nzData]="listOfData"
          (nzCurrentPageDataChange)="onCurrentPageDataChange($event)"
        >
          <thead>
          <tr>
            <th
              [nzSelections]="listOfSelection"
              [(nzChecked)]="checked"
              [nzIndeterminate]="indeterminate"
              (nzCheckedChange)="onAllChecked($event)"
            ></th>
            <th>Name</th>
            <th>Age</th>
            <th>Address</th>
            <th>Action</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let data of rowSelectionTable.data">
            <td [nzChecked]="setOfCheckedId.has(data.id)" (nzCheckedChange)="onItemChecked(data.id, $event)"></td>
            <td>{{ data.name }}</td>
            <td>{{ data.age }}</td>
            <td>{{ data.address }}</td>
            <td>
              <button class="rounded btn-edit" nz-button [nzType]="'default'">Sửa</button>
            </td>
          </tr>
          </tbody>
        </nz-table>
      </div>
    </div>
  </div>
  <nz-modal [nzMaskClosable]="false" [nzWidth]="'50%'"  [(nzVisible)]="isVisible" nzTitle="Thêm mới người dùng" (nzOnCancel)="handleCancel()">
    <div *nzModalContent>
      <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
        <nz-form-item>
          <nz-form-label [nzSpan]="5" nzRequired nzFor="note">Tên đăng nhập</nz-form-label>
          <nz-form-control [nzSpan]="12" nzErrorTip="Nhập tên đăng nhập!">
            <input id="note" type="text" nz-input  />
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSpan]="5" nzFor="gender" nzRequired>Role</nz-form-label>
          <nz-form-control [nzSpan]="12" nzErrorTip="Chọn role!">
            <nz-select
              id="gender"
              nzPlaceHolder="Select a option and change input text above">
              <nz-option nzValue="male" nzLabel="male"></nz-option>
              <nz-option nzValue="female" nzLabel="female"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label [nzSpan]="5" nzRequired nzFor="note">Mật khẩu</nz-form-label>
          <nz-form-control [nzSpan]="12" nzErrorTip="Nhập mật khẩu!">
            <input id="password" type="text" nz-input  />
          </nz-form-control>
        </nz-form-item>
      </form>
    </div>
    <div *nzModalFooter>
      <button nz-button nzType="default" nzDanger (click)="handleCancel()">Huỷ</button>
      <button  nz-button nzType="primary" (click)="handleOk()" [nzLoading]="isConfirmLoading">Lưu</button>
    </div>
  </nz-modal>
</div>
